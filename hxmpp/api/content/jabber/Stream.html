<html><body><a href="#" onclick="javascript:history.back(-1); return false" class="index">Back</a> | <a href="../../index.html" class="index">Index</a><div class="classname"><span class="kwd">class </span>jabber.Stream</div><div class="classdoc"><p>Abstract base class for handling a XMPP data stream to and from another entity.</p>
<p>See: http://xmpp.org/rfcs/rfc6120.html#streams</p></div><dl><dt><span class="kwd">var </span>bufSize(default,null) : <a href="../Int.html" class="type">Int</a></dt><dd>Incoming data buffer size</dd><dt><span class="kwd">var </span>cnx(default,accessor) : <a href="../jabber/StreamConnection.html" class="type">StreamConnection</a></dt><dd>The connection used to transport xmpp data</dd><dt><span class="kwd">var </span>dataFilters(default,null) : <a href="../Array.html" class="type">Array</a>&lt;<a href="../jabber/StreamDataFilter.html" class="type">StreamDataFilter</a>&gt;</dt><dd></dd><dt><span class="kwd">var </span>dataInterceptors(default,null) : <a href="../Array.html" class="type">Array</a>&lt;<a href="../jabber/StreamDataInterceptor.html" class="type">StreamDataInterceptor</a>&gt;</dt><dd></dd><dt><span class="kwd">var </span>features(default,null) : <a href="../jabber/_Stream/StreamFeatures.html" class="type">jabber.StreamFeatures</a></dt><dd>Clients stream features</dd><dt><span class="kwd">var </span>id(default,null) : <a href="../String.html" class="type">String</a></dt><dd>Stream-id</dd><dt><span class="kwd">var </span>jid(default,accessor) : <a href="../jabber/JID.html" class="type">JID</a></dt><dd>Jabber-id of this entity</dd><dt><span class="kwd">var </span>lang(default,null) : <a href="../String.html" class="type">String</a></dt><dd></dd><dt><span class="kwd">var </span>maxBufSize : <a href="../Int.html" class="type">Int</a></dt><dd></dd><dt><span class="kwd">var </span>server(default,null) : <a href="../jabber/_Stream/Server.html" class="type">jabber.Server</a></dt><dd></dd><dt><span class="kwd">var </span>status : <a href="../jabber/StreamStatus.html" class="type">StreamStatus</a></dt><dd>Current status of the XMPP stream</dd><dt><span class="kwd">function </span>addCollector(c : <a href="../jabber/PacketCollector.html" class="type">PacketCollector</a>) : <a href="../Bool.html" class="type">Bool</a></dt><dd>Adds a XMPP packet collector to this stream and starts the timeout if not null.</dd><dt><span class="kwd">function </span>addIDCollector(id : <a href="../String.html" class="type">String</a>, handler : <a href="../Dynamic.html" class="type">Dynamic</a> -> <a href="../Void.html" class="type">Void</a>) : <a href="../jabber/PacketCollector.html" class="type">PacketCollector</a></dt><dd>Adds an packet collector which filters XMPP packets by ids.
		These collectors get processed before any other.</dd><dt><span class="kwd">function </span>addInterceptor(i : <a href="../jabber/PacketInterceptor.html" class="type">PacketInterceptor</a>) : <a href="../Bool.html" class="type">Bool</a></dt><dd></dd><dt><span class="kwd">function </span>close(?disconnect : <a href="../Bool.html" class="type">Bool</a>) : <a href="../Void.html" class="type">Void</a></dt><dd>Closes the XMPP stream.<br/>
		Passed argument indicates if the data connection to the server should also get disconnected.</dd><dt><span class="kwd">function </span>collect(filters : <a href="../Iterable.html" class="type">Iterable</a>&lt;<a href="../xmpp/PacketFilter.html" class="type">xmpp.PacketFilter</a>&gt;, handler : <a href="../Dynamic.html" class="type">Dynamic</a> -> <a href="../Void.html" class="type">Void</a>, ?permanent : <a href="../Bool.html" class="type">Bool</a>) : <a href="../jabber/PacketCollector.html" class="type">PacketCollector</a></dt><dd>Creates, adds and returns a XMPP packet collector.</dd><dt><span class="kwd">function </span>handleData(bytes : <a href="../haxe/io/Bytes.html" class="type">haxe.io.Bytes</a>) : <a href="../Bool.html" class="type">Bool</a></dt><dd></dd><dt><span class="kwd">function </span>handlePacket(p : <a href="../xmpp/Packet.html" class="type">xmpp.Packet</a>) : <a href="../Bool.html" class="type">Bool</a></dt><dd>Handles incoming XMPP packets.
		Returns true if the packet got handled.</dd><dt><span class="kwd">function </span>handleString(t : <a href="../String.html" class="type">String</a>) : <a href="../Bool.html" class="type">Bool</a></dt><dd></dd><dt><span class="kwd">function </span>handleXml(x : <a href="../Xml.html" class="type">Xml</a>) : <a href="../Array.html" class="type">Array</a>&lt;<a href="../xmpp/Packet.html" class="type">xmpp.Packet</a>&gt;</dt><dd>Inject incoming XML data.
		Returns array of handled XMPP packets.</dd><dt><span class="kwd">function </span>interceptPacket(p : <a href="../xmpp/Packet.html" class="type">xmpp.Packet</a>) : <a href="../xmpp/Packet.html" class="type">xmpp.Packet</a></dt><dd>Runs the XMPP packet interceptor on the given packet.</dd><dt><span class="kwd">function </span>nextID() : <a href="../String.html" class="type">String</a></dt><dd>Create/Returns the next unique id for this XMPP stream</dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onClose(?e : <a href="../String.html" class="type">String</a>) : <a href="../Void.html" class="type">Void</a></dt><dd>Called when the XMPP stream closes, optionally reporting stream errors if occured</dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onOpen() : <a href="../Void.html" class="type">Void</a></dt><dd>Called when the XMPP stream is opened and ready to exchange XMPP data</dd><dt><span class="kwd">function </span>open(jid : <a href="../jabber/JID.html" class="type">JID</a>) : <a href="../Void.html" class="type">Void</a></dt><dd>Open the XMPP stream.</dd><dt><span class="kwd">function </span>removeCollector(c : <a href="../jabber/PacketCollector.html" class="type">PacketCollector</a>) : <a href="../Bool.html" class="type">Bool</a></dt><dd></dd><dt><span class="kwd">function </span>removeInterceptor(i : <a href="../jabber/PacketInterceptor.html" class="type">PacketInterceptor</a>) : <a href="../Bool.html" class="type">Bool</a></dt><dd></dd><dt><span class="kwd">function </span>sendBytes(bytes : <a href="../haxe/io/Bytes.html" class="type">haxe.io.Bytes</a>) : <a href="../haxe/io/Bytes.html" class="type">haxe.io.Bytes</a></dt><dd></dd><dt><span class="kwd">function </span>sendData(t : <a href="../String.html" class="type">String</a>) : <a href="../String.html" class="type">String</a></dt><dd>Send raw string.</dd><dt><span class="kwd">function </span>sendIQ(iq : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a>, ?handler : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a> -> <a href="../Void.html" class="type">Void</a>) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Send an IQ packet and forwards the response to the given handler function.</dd><dt><span class="kwd">inline </span><span class="kwd">function </span>sendIQResult(iq : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a>) : <a href="../Void.html" class="type">Void</a></dt><dd>Create and send the resulting iq for given request</dd><dt><span class="kwd">function </span>sendMessage(to : <a href="../String.html" class="type">String</a>, body : <a href="../String.html" class="type">String</a>, ?subject : <a href="../String.html" class="type">String</a>, ?type : <a href="../xmpp/MessageType.html" class="type">xmpp.MessageType</a>, ?thread : <a href="../String.html" class="type">String</a>, ?from : <a href="../String.html" class="type">String</a>) : <a href="../xmpp/Message.html" class="type">xmpp.Message</a></dt><dd>Send a message packet (default type is 'chat').</dd><dt><span class="kwd">function </span>sendPacket&lt;T&gt;(p : T, ?intercept : <a href="../Bool.html" class="type">Bool</a>) : T</dt><dd>Intercept/Send/Return XMPP packet.</dd><dt><span class="kwd">function </span>sendPresence(?show : <a href="../xmpp/PresenceShow.html" class="type">xmpp.PresenceShow</a>, ?status : <a href="../String.html" class="type">String</a>, ?priority : <a href="../Int.html" class="type">Int</a>, ?type : <a href="../xmpp/PresenceType.html" class="type">xmpp.PresenceType</a>) : <a href="../xmpp/Presence.html" class="type">xmpp.Presence</a></dt><dd>Send a presence packet.</dd><dt><span class="kwd">inline </span><span class="kwd">function </span>sendPresenceTo(jid : <a href="../String.html" class="type">String</a>, ?show : <a href="../xmpp/PresenceShow.html" class="type">xmpp.PresenceShow</a>, ?status : <a href="../String.html" class="type">String</a>, ?priority : <a href="../Int.html" class="type">Int</a>, ?type : <a href="../xmpp/PresenceType.html" class="type">xmpp.PresenceType</a>) : <a href="../xmpp/Presence.html" class="type">xmpp.Presence</a></dt><dd>Send directed presence</dd><dt><span class="kwd">static </span><span class="kwd">var </span>defaultMaxBufSize : <a href="../Int.html" class="type">Int</a></dt><dd></dd><dt><span class="kwd">static </span><span class="kwd">var </span>defaultPacketIdLength : <a href="../Int.html" class="type">Int</a></dt><dd></dd></dl><a href="#" onclick="javascript:history.back(-1); return false" class="index">Back</a> | <a href="../../index.html" class="index">Index</a></body></html>