<html><body><a href="#" onclick="javascript:history.back(-1); return false" class="index">Back</a> | <a href="../../index.html" class="index">Index</a><div class="classname"><span class="kwd">class </span>jabber.PubSub</div><div class="classdoc"><p>PubSub client extension.</p>
<p>http://xmpp.org/extensions/xep-0060.html">XEP-0060: Publish-Subscribe</p></div><dl><dt><span class="kwd">var </span>service(default,null) : <a href="../String.html" class="type">String</a></dt><dd>Name of the pubsub service</dd><dt><span class="kwd">var </span>stream(default,null) : <a href="../jabber/Stream.html" class="type">Stream</a></dt><dd></dd><dt><span class="kwd">function </span>new(stream : <a href="../jabber/Stream.html" class="type">Stream</a>, service : <a href="../String.html" class="type">String</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">function </span>createNode(name : <a href="../String.html" class="type">String</a>, ?config : <a href="../xmpp/DataForm.html" class="type">xmpp.DataForm</a>) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Create a pubsub node with the given name (http://xmpp.org/extensions/xep-0060.html#owner-create).</dd><dt><span class="kwd">function </span>deleteNode(name : <a href="../String.html" class="type">String</a>) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Delete pubsub node with given name (http://xmpp.org/extensions/xep-0060.html#owner-delete")</dd><dt><span class="kwd">function </span>loadAffiliations() : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Load list of affiliations for all nodes at the service.</dd><dt><span class="kwd">function </span>loadItems(node : <a href="../String.html" class="type">String</a>, ?subid : <a href="../String.html" class="type">String</a>, ?maxItems : <a href="../Int.html" class="type">Int</a>, ?ids : <a href="../Array.html" class="type">Array</a>&lt;<a href="../String.html" class="type">String</a>&gt;) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Load (all) items from the given node.</dd><dt><span class="kwd">function </span>loadSubscriptions(?node : <a href="../String.html" class="type">String</a>) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Load list of current subscriptions.</dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onAffiliations(a : <a href="../xmpp/pubsub/Affiliations.html" class="type">xmpp.pubsub.Affiliations</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onError(e : <a href="../jabber/XMPPError.html" class="type">XMPPError</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onItems(items : <a href="../xmpp/pubsub/Items.html" class="type">xmpp.pubsub.Items</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onNodeCreate(node : <a href="../String.html" class="type">String</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onNodeDelete(node : <a href="../String.html" class="type">String</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onPublish(node : <a href="../String.html" class="type">String</a>, item : <a href="../xmpp/pubsub/Item.html" class="type">xmpp.pubsub.Item</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onPurge(node : <a href="../String.html" class="type">String</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onRetract(r : <a href="../xmpp/pubsub/Retract.html" class="type">xmpp.pubsub.Retract</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onSubscribe(sub : <a href="../xmpp/pubsub/Subscription.html" class="type">xmpp.pubsub.Subscription</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onSubscriptions(subs : <a href="../xmpp/pubsub/Subscriptions.html" class="type">xmpp.pubsub.Subscriptions</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">dynamic </span><span class="kwd">function </span>onUnsubscribe(node : <a href="../String.html" class="type">String</a>) : <a href="../Void.html" class="type">Void</a></dt><dd></dd><dt><span class="kwd">function </span>publish(node : <a href="../String.html" class="type">String</a>, item : <a href="../xmpp/pubsub/Item.html" class="type">xmpp.pubsub.Item</a>, ?options : <a href="../xmpp/DataForm.html" class="type">xmpp.DataForm</a>) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Publish an item to a node.</dd><dt><span class="kwd">function </span>purge(node : <a href="../String.html" class="type">String</a>) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Remove all items from the persistent store, with the exception of the last published item, which MAY be cached.
		(This is a optional feature for a pubsub service).</dd><dt><span class="kwd">function </span>retract(retract : <a href="../xmpp/pubsub/Retract.html" class="type">xmpp.pubsub.Retract</a>) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Publisher deletes an item once it has been published to a node that supports persistent items.</dd><dt><span class="kwd">function </span>subscribe(node : <a href="../String.html" class="type">String</a>, ?jid : <a href="../String.html" class="type">String</a>) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Subscribe to given pubsub node.
		The 'jid' attribute specifying the exact XMPP address to be used as the subscribed JID.
		Often a bare JID (<localpart@domain.tld> or <domain.tld>)
		or full JID <localpart@domain.tld/resource>
		or <domain.tld/resource>.</dd><dt><span class="kwd">function </span>unsubscribe(node : <a href="../String.html" class="type">String</a>, ?jid : <a href="../String.html" class="type">String</a>, ?subid : <a href="../String.html" class="type">String</a>) : <a href="../xmpp/IQ.html" class="type">xmpp.IQ</a></dt><dd>Unsubscribe from given pubsub node.</dd></dl><a href="#" onclick="javascript:history.back(-1); return false" class="index">Back</a> | <a href="../../index.html" class="index">Index</a></body></html>